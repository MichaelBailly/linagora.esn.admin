.card-body.card-padding(ng-if="!$ctrl.ldapConfig.deleted")
  ng-form(role="form", aria-hidden="true", name="form")
    .row
      .col-xs-12.col-md-6.p-t-25
        div
          admin-form-group(label="#{__('Name')}")
            input.form-control(type="text", ng-model='$ctrl.ldapConfig.name', required, name="name")
          admin-form-group(label="#{__('URL')}")
            input.form-control(type="text", ng-model='$ctrl.ldapConfig.configuration.url', required, name="url")
        div
          .group-name #{__('Mapping')}
          admin-form-group(label="#{__('First name')}")
            input.form-control(type="text", ng-model='$ctrl.ldapConfig.configuration.mapping.firstname', required, name="firstname")
          admin-form-group(label="#{__('Last name')}")
            input.form-control(type="text", ng-model='$ctrl.ldapConfig.configuration.mapping.lastname', required, name="lastname")
        .form-group
          .fg-line
            .checkbox
              label
                input(type="checkbox", ng-model='$ctrl.config.autoProvisioning')
                i.input-helper #{__('Auto Provisioning')}
      .col-xs-12.col-md-6.p-t-25
        div
          admin-form-group(label="#{__('Admin distinguished name')}")
            input.form-control(type="text", ng-model='$ctrl.ldapConfig.configuration.adminDn', autocomplete="off", required, name="adminDn")
          admin-form-group(label="#{__('Admin Password')}")
            input.form-control(type="password", ng-model='$ctrl.ldapConfig.configuration.adminPassword', autocomplete="new-password", required, name="adminPassword")
        div
          .group-name #{__('Search')}
          admin-form-group(label="#{__('Search Base')}")
            input.form-control(type="text", ng-model='$ctrl.ldapConfig.configuration.searchBase', required, name="searchBase")
          admin-form-group(label="#{__('Search Filter')}")
            input.form-control(type="text", ng-model='$ctrl.ldapConfig.configuration.searchFilter', required, name="searchFilter")
      .col-xs-12.flex-end.form-bottom
        button.btn.btn-default(ng-click="$ctrl.delete(form)", type="button", title="#{__('Delete')}")
          i.mdi.mdi-delete
.card-body.card-padding(ng-show="$ctrl.ldapConfig.deleted && $ctrl.ldapConfig.name")
  .row
    .col-xs-12
      .p-t-5.flex-space-between
        span
          |  #{__('You removed LDAP configuration of ')} "{{$ctrl.ldapConfig.name}}"
        a(ng-click='$ctrl.undo()', href='')
          |  #{__("Undo")}
